<?xml version="1.0" encoding="UTF-8"?><bpmn2:definitions id="_19BF4493-887F-47B3-B6BB-BD5B851C5066" exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools"><bpmn2:itemDefinition id="_locationItem" structureRef="org.tenkichannel.forecast.rain.Location"/><bpmn2:itemDefinition id="_resultItem" structureRef="org.tenkichannel.forecast.rain.Result"/><bpmn2:itemDefinition id="_weatherItem" structureRef="org.tenkichannel.forecast.rain.Weather"/><bpmn2:itemDefinition id="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_namespaceInputXItem" structureRef="java.lang.String"/><bpmn2:itemDefinition id="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_modelInputXItem" structureRef="java.lang.String"/><bpmn2:itemDefinition id="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_decisionInputXItem" structureRef="java.lang.String"/><bpmn2:itemDefinition id="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_weatherInputXItem" structureRef="org.tenkichannel.forecast.rain.Weather"/><bpmn2:itemDefinition id="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_resultInputXItem" structureRef="org.tenkichannel.forecast.rain.Result"/><bpmn2:process id="RainForecastProcess" drools:version="1.0" drools:adHoc="false" name="RainForecastProcess" processType="Public"><bpmn2:property id="location" itemSubjectRef="_locationItem" name="location"/><bpmn2:property id="result" itemSubjectRef="_resultItem" name="result"/><bpmn2:property id="weather" itemSubjectRef="_weatherItem" name="weather"/><bpmn2:sequenceFlow id="_0807EA3C-FD3E-4C67-A3A1-2BB464AAC278" sourceRef="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F" targetRef="_E94580E2-620D-4B5E-9D3B-D7478C9201B9"><bpmn2:extensionElements><drools:metaData name="isAutoConnection.source"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData><drools:metaData name="isAutoConnection.target"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData></bpmn2:extensionElements></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_FCD804B3-C10A-4CC8-B083-AC6251EB4E71" sourceRef="_E94580E2-620D-4B5E-9D3B-D7478C9201B9" targetRef="EndEvent_1"><bpmn2:extensionElements><drools:metaData name="isAutoConnection.target"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData></bpmn2:extensionElements></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_FF041752-0880-4174-B598-AA0E24624423" sourceRef="StartEvent_1" targetRef="ScriptTask_1"><bpmn2:extensionElements><drools:metaData name="isAutoConnection.source"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData><drools:metaData name="isAutoConnection.target"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData></bpmn2:extensionElements></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_A4A01F1C-7BCD-48AD-ACE3-F20D1502ABFF" sourceRef="ScriptTask_2" targetRef="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F"><bpmn2:extensionElements><drools:metaData name="isAutoConnection.source"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData><drools:metaData name="isAutoConnection.target"><drools:metaValue><![CDATA[true]]></drools:metaValue></drools:metaData></bpmn2:extensionElements></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="SequenceFlow_7" sourceRef="ScriptTask_1" targetRef="ScriptTask_2"/><bpmn2:scriptTask id="_E94580E2-620D-4B5E-9D3B-D7478C9201B9" name="Dump Output Vars" scriptFormat="http://www.java.com/java"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue><![CDATA[Dump Output Vars
]]></drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_0807EA3C-FD3E-4C67-A3A1-2BB464AAC278</bpmn2:incoming><bpmn2:outgoing>_FCD804B3-C10A-4CC8-B083-AC6251EB4E71</bpmn2:outgoing><bpmn2:script><![CDATA[System.out.println("Final result is " + location + " " + weather + " " + result);

kcontext.setVariable("weather", null);
kcontext.setVariable("location", null);]]></bpmn2:script></bpmn2:scriptTask><bpmn2:businessRuleTask id="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F" drools:ruleFlowGroup="rainConditionCheck" name="Rain Condition Check" implementation="http://www.jboss.org/drools/rule"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue><![CDATA[Rain Condition Check]]></drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_A4A01F1C-7BCD-48AD-ACE3-F20D1502ABFF</bpmn2:incoming><bpmn2:outgoing>_0807EA3C-FD3E-4C67-A3A1-2BB464AAC278</bpmn2:outgoing><bpmn2:ioSpecification id="_RCIssLliEDeq0s7mcuzgxA"><bpmn2:dataInput id="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_weatherInputX" drools:dtype="org.tenkichannel.forecast.rain.Weather" itemSubjectRef="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_weatherInputXItem" name="weather"/><bpmn2:dataInput id="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_resultInputX" drools:dtype="org.tenkichannel.forecast.rain.Result" itemSubjectRef="__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_resultInputXItem" name="result"/><bpmn2:inputSet id="_RCIssbliEDeq0s7mcuzgxA"><bpmn2:dataInputRefs>_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_weatherInputX</bpmn2:dataInputRefs><bpmn2:dataInputRefs>_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_resultInputX</bpmn2:dataInputRefs></bpmn2:inputSet></bpmn2:ioSpecification><bpmn2:dataInputAssociation id="_RCJTwLliEDeq0s7mcuzgxA"><bpmn2:sourceRef>weather</bpmn2:sourceRef><bpmn2:targetRef>_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_weatherInputX</bpmn2:targetRef></bpmn2:dataInputAssociation><bpmn2:dataInputAssociation id="_RCJTwbliEDeq0s7mcuzgxA"><bpmn2:sourceRef>result</bpmn2:sourceRef><bpmn2:targetRef>_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_resultInputX</bpmn2:targetRef></bpmn2:dataInputAssociation></bpmn2:businessRuleTask><bpmn2:startEvent id="StartEvent_1" name="Start"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue><![CDATA[Start]]></drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:outgoing>_FF041752-0880-4174-B598-AA0E24624423</bpmn2:outgoing></bpmn2:startEvent><bpmn2:endEvent id="EndEvent_1" name="End"><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue><![CDATA[End]]></drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_FCD804B3-C10A-4CC8-B083-AC6251EB4E71</bpmn2:incoming></bpmn2:endEvent><bpmn2:scriptTask id="ScriptTask_1" name="Dump Input Vars" scriptFormat="http://www.java.com/java"><bpmn2:documentation id="_RCJ60LliEDeq0s7mcuzgxA"><![CDATA[Simple process that will dump the value of the input variables for DEBUG check]]></bpmn2:documentation><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue><![CDATA[Dump Input Vars]]></drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>_FF041752-0880-4174-B598-AA0E24624423</bpmn2:incoming><bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing><bpmn2:script><![CDATA[System.out.println("Starting process to decide if we have to bring an umbrella or not with the location: " + location);]]></bpmn2:script></bpmn2:scriptTask><bpmn2:scriptTask id="ScriptTask_2" name="Get Weather Forecast" scriptFormat="http://www.java.com/java"><bpmn2:documentation id="_RCKh4LliEDeq0s7mcuzgxA"><![CDATA[Calls an external web service to retrieve information about the weather based on the given location]]></bpmn2:documentation><bpmn2:extensionElements><drools:metaData name="elementname"><drools:metaValue><![CDATA[Get Weather Forecast]]></drools:metaValue></drools:metaData></bpmn2:extensionElements><bpmn2:incoming>SequenceFlow_7</bpmn2:incoming><bpmn2:outgoing>_A4A01F1C-7BCD-48AD-ACE3-F20D1502ABFF</bpmn2:outgoing><bpmn2:script><![CDATA[weather = new org.tenkichannel.forecast.rain.Weather();
if (location.getCity() == null ||location.getCity().isEmpty()) {
    weather.setCondition("Sunny");
} else {
    weather.setCondition("Rain");
}

System.out.println("Starting process to decide if we have to bring an umbrella or not with the location: " + weather);

kcontext.setVariable("weather", weather);
kcontext.setVariable("result", new org.tenkichannel.forecast.rain.Result());]]></bpmn2:script></bpmn2:scriptTask></bpmn2:process><bpmndi:BPMNDiagram><bpmndi:BPMNPlane bpmnElement="RainForecastProcess"><bpmndi:BPMNShape id="shape_ScriptTask_2" bpmnElement="ScriptTask_2"><dc:Bounds height="88" width="181" x="500" y="90"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape_ScriptTask_1" bpmnElement="ScriptTask_1"><dc:Bounds height="88" width="151" x="249" y="90"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape_EndEvent_1" bpmnElement="EndEvent_1"><dc:Bounds height="56" width="56" x="810" y="427"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape_StartEvent_1" bpmnElement="StartEvent_1"><dc:Bounds height="56" width="56" x="88" y="102"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F" bpmnElement="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F"><dc:Bounds height="102" width="154" x="761" y="83"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="shape__E94580E2-620D-4B5E-9D3B-D7478C9201B9" bpmnElement="_E94580E2-620D-4B5E-9D3B-D7478C9201B9"><dc:Bounds height="102" width="154" x="761" y="244"/></bpmndi:BPMNShape><bpmndi:BPMNEdge id="edge_shape_ScriptTask_1_to_shape_ScriptTask_2" bpmnElement="SequenceFlow_7"><di:waypoint x="400" y="134"/><di:waypoint x="450" y="134"/><di:waypoint x="500" y="134"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape_ScriptTask_2_to_shape__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F" bpmnElement="_A4A01F1C-7BCD-48AD-ACE3-F20D1502ABFF"><di:waypoint x="681" y="134"/><di:waypoint x="761" y="134"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape_StartEvent_1_to_shape_ScriptTask_1" bpmnElement="_FF041752-0880-4174-B598-AA0E24624423"><di:waypoint x="144" y="130"/><di:waypoint x="249" y="134"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__E94580E2-620D-4B5E-9D3B-D7478C9201B9_to_shape_EndEvent_1" bpmnElement="_FCD804B3-C10A-4CC8-B083-AC6251EB4E71"><di:waypoint x="838" y="346"/><di:waypoint x="810" y="455"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="edge_shape__0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F_to_shape__E94580E2-620D-4B5E-9D3B-D7478C9201B9" bpmnElement="_0807EA3C-FD3E-4C67-A3A1-2BB464AAC278"><di:waypoint x="915" y="134"/><di:waypoint x="761" y="295"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship id="_RCM-ILliEDeq0s7mcuzgxA" type="BPSimData"><bpmn2:extensionElements><bpsim:BPSimData><bpsim:Scenario id="default" name="Simulationscenario"><bpsim:ScenarioParameters/><bpsim:ElementParameters elementRef="ScriptTask_2"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="ScriptTask_1"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="StartEvent_1"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="_0E9D2AF0-05AB-4FBC-A60F-3E1683BB682F"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters><bpsim:ElementParameters elementRef="_E94580E2-620D-4B5E-9D3B-D7478C9201B9"><bpsim:TimeParameters><bpsim:ProcessingTime><bpsim:NormalDistribution mean="0" standardDeviation="0"/></bpsim:ProcessingTime></bpsim:TimeParameters><bpsim:ResourceParameters><bpsim:Availability><bpsim:FloatingParameter value="0"/></bpsim:Availability><bpsim:Quantity><bpsim:FloatingParameter value="0"/></bpsim:Quantity></bpsim:ResourceParameters><bpsim:CostParameters><bpsim:UnitCost><bpsim:FloatingParameter value="0"/></bpsim:UnitCost></bpsim:CostParameters></bpsim:ElementParameters></bpsim:Scenario></bpsim:BPSimData></bpmn2:extensionElements><bpmn2:source>_19BF4493-887F-47B3-B6BB-BD5B851C5066</bpmn2:source><bpmn2:target>_19BF4493-887F-47B3-B6BB-BD5B851C5066</bpmn2:target></bpmn2:relationship></bpmn2:definitions>